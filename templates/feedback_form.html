<style>
    .radio-toolbar input[type="radio"] {
        opacity: 0;
        position: fixed;
        width: 0;
    }

    .radio-toolbar label {
        display: inline-block;
        background-color: #ddd;
        padding: 10px 20px;
        font-family: sans-serif, Arial;
        font-size: 16px;
        border-radius: 4px;
    }

    .radio-toolbar input[type="radio"]:checked+label {
        background-color: black;
        color: white;
    }

    .radio-toolbar label:hover {
        background-color: #dfd;
    }
    .star_color{
        color:#FCCA41 !important;
    }
    @media screen and (max-width: 657px){
        .radio-toolbar label {
            background-color: #ddd;
            padding: 3px 6px;
            font-family: sans-serif, Arial;
            font-size: 5px;
            border-radius: 4px;
        }
        .small-ratings{
            font-size: 11px !important;
        }
	}
</style>
<div class="container h-100">
    <div class="row justify-content-sm-center h-100 mt-5">
        <div class="col-xxl-12 col-xl-12 col-lg-12 col-md-10 col-sm-9">

            <div class="card shadow-lg">
                <div class="card-body p-3 p-md-5 p-lg-5">

                    {% if AverageRating < 1 %}
                    <div class="small-ratings">
                        <span class="poppins_font" style="font-size: 14px;">Product Ratings :&nbsp;</span> 
                        <i class="fa fa-star text-muted"></i>
                        <i class="fa fa-star text-muted"></i>
                        <i class="fa fa-star text-muted"></i>
                        <i class="fa fa-star text-muted"></i>
                        <i class="fa fa-star text-muted"></i>
                        <span class="poppins_font total_frontend_rating">&nbsp; ({{AverageRating}}) &nbsp;</span> 
                    </div>

                    {% elif AverageRating < 2 %}
                    <div class="small-ratings">
                        <span class="poppins_font" style="font-size: 14px;">Product Ratings :&nbsp;</span> 
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star text-muted"></i>
                        <i class="fa fa-star text-muted"></i>
                        <i class="fa fa-star text-muted"></i>
                        <i class="fa fa-star text-muted"></i>
                        <span class="poppins_font total_frontend_rating">&nbsp; ({{AverageRating}}) &nbsp;</span> 
                    </div>

                    {% elif AverageRating < 3 %}
                    <div class="small-ratings">
                        <span class="poppins_font" style="font-size: 14px;">Product Ratings :&nbsp;</span> 
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star text-muted"></i>
                        <i class="fa fa-star text-muted"></i>
                        <i class="fa fa-star text-muted"></i>
                        <span class="poppins_font total_frontend_rating">&nbsp; ({{AverageRating}}) &nbsp;</span> 
                    </div>

                    {% elif AverageRating < 4 %}
                    <div class="small-ratings">
                        <span class="poppins_font" style="font-size: 14px;">Product Ratings :&nbsp;</span> 
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star text-muted"></i>
                        <i class="fa fa-star text-muted"></i>
                        <span class="poppins_font total_frontend_rating">&nbsp; ({{AverageRating}}) &nbsp;</span> 
                    </div>

                    {% elif AverageRating < 5 %}
                    <div class="small-ratings">
                        <span class="poppins_font" style="font-size: 14px;">Product Ratings :&nbsp;</span> 
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star text-muted"></i>
                        <span class="poppins_font total_frontend_rating">&nbsp; ({{AverageRating}}) &nbsp;</span> 
                    </div>

                    {% else %}
                    <div class="small-ratings">
                        <span class="poppins_font" style="font-size: 14px;">Product Ratings :&nbsp;</span> 
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star star_color"></i>
                        <i class="fa fa-star star_color"></i>
                        <span class="poppins_font total_frontend_rating">&nbsp; ({{AverageRating}}) &nbsp;</span> 
                    </div>

                    {% endif %}



                    <span class="badge bg-dark mt-2">{{TotalProductsFeedback}} Reviews</span>


                    <!----------- progrssbar starts ----------->
                <div class="d-flex justify-content-center">

                    <div class="progressbar_container col-12">

                        <!-- 1 star -->
                        <div class="progress mt-2">
                            <div class="progress-bar" role="progressbar" style="width:{{ OneStarAveragePercentage }}%; background-color: black;" aria-valuenow="25"
                                aria-valuemin="0" aria-valuemax="100">{{ OneStarAveragePercentage }}% ({{ AllOneStar }})</div>
                        </div>

                        <!-- 2 star -->
                        <div class="progress mt-2">
                            
                            <div class="progress-bar" role="progressbar" style="width: {{ TwoStarAveragePercentage }}%;background-color: black;" aria-valuenow="25"
                                aria-valuemin="0" aria-valuemax="100">{{ TwoStarAveragePercentage }}% ({{ AllTwoStar }})</div>
                        </div>

                        <!-- 3 star -->
                        <div class="progress mt-2">
                            <div class="progress-bar" role="progressbar" style="width: {{ ThreeStarAveragePercentage }}%; background-color: black;" aria-valuenow="50"
                                aria-valuemin="0" aria-valuemax="100">{{ ThreeStarAveragePercentage }}% ({{ AllThreeStar }})</div>
                        </div>

                        <!-- 4 star -->
                        <div class="progress mt-2">
                            <div class="progress-bar" role="progressbar" style="width: {{ FourStarAveragePercentage }}%;background-color: black;" aria-valuenow="75"
                                aria-valuemin="0" aria-valuemax="100"> {{ FourStarAveragePercentage }}% ({{ AllFourStar }})</div>
                        </div>

                        <!-- 5 star -->
                        <div class="progress mt-2">
                            <div class="progress-bar" role="progressbar" style="width: {{ FiveStarAveragePercentage }}%; background-color: black;" aria-valuenow="25"
                                aria-valuemin="0" aria-valuemax="100">{{ FiveStarAveragePercentage }}% ({{ AllFiveStar }})</div>
                        </div>

                    </div>
                </div>


                {% if request.user.is_authenticated and request.user.id != quick_view.user.id %}

                {% if user_has_bought_product %}

                
                
                {% if user.account_type == None %}
                
                    <!-- {{quick_view}} {{request.user.UserOrderRelatedName.all}} -->
                    <!-- feedback form -->
                    <form action="{% url 'feedBack' quick_view_id=quick_view.id %}" method="POST" class="needs-validation mt-3" style="font-size: 13px;" novalidate="" autocomplete="off" enctype="multipart/form-data">
                        {% csrf_token %}


                        <!-- rating star part -->
                        <div class="radio-toolbar d-flex">
                            <input type="radio" id="one_star" name="product_rating" value="1" checked>
                            <label for="one_star" class="mx-1">1 <i class="fas fa-star"></i></label>

                            <input type="radio" id="two_star" name="product_rating" value="2">
                            <label for="two_star" class="mx-1">2 <i class="fas fa-star"></i></label>

                            <input type="radio" id="three_star" name="product_rating" value="3">
                            <label for="three_star" class="mx-1">3 <i class="fas fa-star"></i></label>

                            <input type="radio" id="four_star" name="product_rating" value="4">
                            <label for="four_star" class="mx-1">4 <i class="fas fa-star"></i></label>

                            <input type="radio" id="five_star" name="product_rating" value="5">
                            <label for="five_star" class="mx-1">5 <i class="fas fa-star"></i></label>
                        </div>



                        <!-- feed back section -->
                        <div class="mb-3 mt-2">
                            <textarea id="email" placeholder="Share your experiencs..." rows="10" style="font-size: 13px;" type="email" class="form-control" name="feedBACK" value="" required></textarea>
                        </div>


                            <div class="d-flex align-items-center">

                                <!-- submit button -->
                          
                                <button type="submit" class="btn btn-outline-dark ms-auto" style="font-size: 13px;">
                                    Submit
                                </button>
                            </div>

                    </form>

                
                {% endif %}
                {% endif %}
                {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>